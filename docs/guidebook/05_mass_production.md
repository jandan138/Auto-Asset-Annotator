# 终章：建立流水线

现在你已经学会了如何处理一个模型。但如果老板扔给你 100 万个模型，你要处理到猴年马月？

这时候，我们需要使用**“影分身之术” (Chunking)**。

## 1. 什么是 Chunking？

简单说，就是把一大堆任务切成小块（Chunk），分给不同的人（或机器）去做。

假设你有 100 个模型，你有 4 台电脑。
*   电脑 A 处理 0-24 号。
*   电脑 B 处理 25-49 号。
*   ...

## 2. 如何操作？

我们的工具内置了这个功能。

**在电脑 A 上运行：**
```bash
# 总共分 4 块，我负责第 0 块
python -m auto_asset_annotator.main ... --num_chunks 4 --chunk_index 0
```

**在电脑 B 上运行：**
```bash
# 总共分 4 块，我负责第 1 块
python -m auto_asset_annotator.main ... --num_chunks 4 --chunk_index 1
```

这样，4 台电脑同时开工，速度就是原来的 4 倍！

## 3. 常见故障排除 (Troubleshooting)

在批量生产中，难免会遇到意外。

### Q: 程序突然崩了，报错 "CUDA out of memory"
**A**: 显卡累趴下了。
*   **急救**：重启程序。如果一启动就崩，说明模型太大，需要换更高端的显卡，或者换个小点的模型。

### Q: 跑到一半断电了，要从头开始吗？
**A**: 不需要！
*   **机制**：程序很聪明，它在处理每个资产前，会先检查 `output` 目录里是不是已经有对应的 JSON 文件了。如果有，它就会跳过。
*   **操作**：直接重新运行命令即可，它会自动从断掉的地方继续（断点续传）。

### Q: 生成的 JSON 里有乱码？
**A**: 偶尔模型会“发疯”。
*   **机制**：我们的工具会尽力修复这些错误。如果修不好，它会把原始内容保存在 `raw_output` 字段里，方便你人工检查。

## 结语

恭喜你！你已经读完了《新手魔法书》。

从现在起，你不再是一个普通的仓库管理员，而是一个能够驾驭 AI 魔法的**资产数据专家**。去探索更多可能性吧，这个仓库里的宝藏正等着你去发现！
